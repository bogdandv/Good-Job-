
<!-- DISPLAY DATA -->
<div *ngIf="user && !editPassword">
  <h2 class="page-header">Welcome, {{user.name}}</h2>
  <ul class="list-group">
    <li class="list-group-item">Rating: {{rating}} </li>
    <li class="list-group-item">Followers: {{followers}} </li>
    <li class="list-group-item">Username: {{user.username}}</li>
    <li class="list-group-item">Name: {{user.name}}

      <button class="btn btn-primary" (click)="toggleName()" *ngIf="!editPassword && !editName && !editEmail"> Edit </button>

      <!-- EDIT NAME -->
      <div *ngIf="editName">
        <br>
        <form [formGroup]="nameForm" autocomplete="off" novalidate>
          <div class="form-field">
            <label>New name:</label>
            <input formControlName="name" type="text" class="form-control" [(ngModel)]="newName" name="newName">
            <div [hidden]="nameForm.valid" class="alert alert-danger">
              Name must be between 4-25 characters long and must contain only letters and '-'.
            </div>
          </div>

          <button class="btn btn-primary" [disabled]="!isValidNameForm()" type="button" (click)="updateUserName()">Save</button>
          <button class="btn btn-primary" type="button" (click)="cancel()" *ngIf="editPassword || editName || editEmail"> Cancel </button>
        </form>
      </div>

    </li>

    <li class="list-group-item">Email: {{user.email}}
      <button class="btn btn-primary" (click)="toggleEmail()" *ngIf="!editPassword && !editName && !editEmail"> Edit </button>

      <!-- EDIT E-MAIL -->
      <div *ngIf="editEmail"><br>
        <form [formGroup]="emailForm" autocomplete="off" novalidate>

          <div class="form-field">
            <label>New e-mail:</label>
            <input formControlName="n_email" type="email" class="form-control" [(ngModel)]="newEmail" name="newEmail">
            <div [hidden]="emailForm.valid" class=" alert alert-danger ">
              Make sure you enter a valid e-mail address.
            </div>
          </div>
          <div class="form-field">
            <label>Confirm:</label>
            <input formControlName="c_email" type="email" class="form-control" [(ngModel)]="confEmail" name="confEmail">
            <div *ngIf="!checkEmail()" class=" alert alert-danger ">
              The emails don't match.
            </div>
          </div>

          <button class="btn btn-primary" type="button" [disabled]="!checkEmail()" (click)="updateUserEmail()">Save</button>
          <button class="btn btn-primary" type="button" (click)="cancel()" *ngIf="editPassword || editName || editEmail"> Cancel </button>
        </form>

      </div>
    </li>
  </ul>
  <p>number Of Videos</p>
    <div class="progress">
    <div class="progress-bar" role="progressbar" aria-valuenow="70"
      aria-valuemin="0" aria-valuemax="100"  [style.width]="numberOfVideosProcentage">
      <p>{{numberOfVideosProcentage}}</p>
     <span class="sr-only">70% Complete</span>
    </div>
  </div> 
  <p>number Of Followers</p>
  <div class="progress">
    <div class="progress-bar" role="progressbar" aria-valuenow="70"
      aria-valuemin="0" aria-valuemax="100" [style.width]="numberOfFollowersProcentage">
      <p>{{numberOfFollowersProcentage}}</p>
     <span class="sr-only">70% Complete</span>
    </div>
  </div> 
  <p>number Of Good Videos</p>
  <div class="progress">
    <div class="progress-bar" role="progressbar" aria-valuenow="70"
      aria-valuemin="0" aria-valuemax="100" [style.width]=" numberOfGoodVideosProcentage">
      <p>{{numberOfGoodVideosProcentage}}</p>
     <span class="sr-only">70% Complete</span>
    </div>
  </div> 
  <p>number Of Decent Videos</p>
  <div class="progress">
    <div class="progress-bar" role="progressbar" aria-valuenow="70"
      aria-valuemin="0" aria-valuemax="100" [style.width]="numberOfDecentVideosProcentage">
      <p>{{numberOfDecentVideosProcentage}}</p>
     <span class="sr-only">70% Complete</span>
    </div>
  </div> 
  <p>Procentage of quality videos</p> 
  <div class="progress">
    
    <div class="progress-bar" role="progressbar" aria-valuenow="70"
      aria-valuemin="0" aria-valuemax="100" [style.width]="qualityVideoProcentage">
      <p>{{qualityVideoProcentage}}</p>
     <span class="sr-only">70% Complete</span>
    </div>
  </div> 

</div>

<div>
  <button class="btn btn-primary" (click)="togglePassword() " *ngIf="!editPassword && !editName && !editEmail "> Change password </button>
  <!--<button class="btn btn-primary" *ngIf="!editPassword && !editName && !editEmail "> Favourites </button>-->
  <!--<button class="btn btn-primary" *ngIf="!editPassword && !editName && !editEmail " (click)="showFollowingVideos()"> Following </button>-->

</div>




<!-- Progress Bar -->



<div *ngIf="editPassword"><br>
  <p> Change your password:</p>
  <form [formGroup]="passwordForm" autocomplete="off" novalidate>

    <div class="form-field">
      <label>Old password:</label>
      <input formControlName="o_pass" type="password" class="form-control" [(ngModel)]="oldPassword" name="oldPassword">
    </div>

    <div class="form-field">
      <label>New password:</label>
      <input formControlName="n_pass" type="password" class="form-control" [(ngModel)]="newPassword" name="newPassword">
      <div [hidden]="passwordForm.valid" class=" alert alert-danger ">
        Your password must be between 5-15 characters long.
      </div>
    </div>
    <div class="form-field">
      <label>Confirm:</label>
      <input formControlName="c_pass" type="password" class="form-control" [(ngModel)]="confPassword" name="confPassword">
      <div *ngIf="!checkPassword()" class=" alert alert-danger ">
        The passwords don't match.
      </div>
    </div>
    <button type="button" [disabled]="!checkPassword()" (click)="updateUserPassword()">Save</button>
    <button type="button" (click)="cancel()" *ngIf="editPassword || editName || editEmail"> Cancel </button>
  </form>



<div *ngIf="showFollowings">

    
</div>


</div>